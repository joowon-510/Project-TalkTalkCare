# 1월 13일

## 프로젝트명: 톡톡케어🧑🏻‍🎓

### 프로젝트 내용

**슬로건** : [톡톡케어를 쓰면 똑똑케져요!]

**의의** : 고령화 시대가 가속화되고 있는 현대 사회에서, 사각지대의 노인 인구와 노화로 인한 질병 문제는 나날이 사회 문제로 대두되고 있다. 이러한 사회 문제를 공익적으로 해결하기 위해 생각한 서비스가 ‘톡톡캐어’이다. 이는 주 타겟층인 노인 뿐 아니라 여가 시간이 많은 중장년층 외 치매 예방에 관심이 있는 어느 누구라도 사용할 수 있는 웹앱형 프로그램이다. 화상 연결을 활용하여 스마트 기기가 서툰 노년층에겐 요양보호사가 원격 제어로 치매 예방 게임을 함께 진행할 수 있도록 도운다. 이 프로그램을 통해 기억력, 순발력, 사고력, 논리력, 집중력까지 5가지 분야의 능력을 향상 시킬 뿐 아니라 최종적으로 치매 예방 및 치료의 효과를 기대할 수 있도록 한다.

### 기획 및 설계 진행도

**1. 회원관리**  
> 로그인/로그아웃, 회원가입/탈퇴, 친구추가/삭제, 정보수정, 비밀번호 찾기

참고사항: 본인 인증 및 정보 간소화, 페이지가 늘어나고 받을 정보를 줄임, 그러나 필수적인 보안요소(아이디 중복확인, 비밀번호 양식)는 그대로 유지

**2. 화상통화**  
> 친구초대, 자막처리, 원격제어  


**3. 온오프라인관리**
> WebSocket을 활용한 온오프라인 관리

참고사항: 클라이언트와 서버간 통신을 일정주기로 WebSocket을 활용하여 신호를 주고 받음. 서버는 Scheduling을 활용한다.

**4. 게임**
> 기억력, 사고력, 집중력, 순발력, 논리력으로 이루어진 다섯가지 분야의 다양한 게임을 개발

참고사항: 카드 뒤집기, 데카르트 가위바위보, 색깔 단어 읽기, 없는 숫자 찾기, 숫자 추론

---
### 오늘의 논제
1. 가입 절차 간소화
2. 요양보호사 인증

---
# 1월 14일

### 어제의 논제 해결

**1. 가입 절차 간소화**  
:가입 절차를 간소화하여 사용자 경험을 개선하고 서비스 접근성을 높이기 위해 다음과 같은 방안을 도입하였습니다

>1. 필수 정보 최소화
>이름, 생년월일, 휴대폰 번호만을 필수 정보로 설정
>추가 정보는 선택 사항으로 전환하여 초기 진입 장벽 낮춤
>2. 소셜 로그인 도입
>카카오, 네이버, 구글 계정을 통한 간편 로그인 기능 추가
>OAuth 2.0 프로토콜을 활용한 안전한 인증 시스템 구축
>3. 단계별 정보 입력
>초기 가입 시 최소 정보만 입력하도록 설계
>서비스 이용 중 자연스럽게 추가 정보 입력을 유도하는 UI/UX 설계
>게임 결과나 활동에 따른 보상으로 프로필 완성도 높이기
>4. 직관적인 UI/UX
>큰 글씨와 명확한 아이콘을 활용하여 노년층도 쉽게 이용할 수 있는 >인터페이스 설계
>음성 안내 기능 추가로 시각적 요소를 보완
>고대비 모드 및 글자 크기 조절 기능 제공
>5. 본인 인증 간소화
>SMS 인증 또는 간편 인증 앱을 활용한 빠른 본인 확인 절차 도입
>생체 인증(지문, 얼굴 인식) 옵션 제공으로 로그인 과정 간소화


**2. 요양보호사 인증**  
: 요양보호사의 신뢰성 확보와 서비스 품질 유지를 위해 다음과 같은 인증 절차를 구체화하였습니다.

>1. 자격증 확인
>요양보호사 자격증 번호 입력 및 유효성 검증 시스템 구축
>자격증 번호 형식 검사 및 발급 기관 데이터베이스와의 실시간 대조
>2. 기관 연계
>국가공인 요양보호사 자격 관리 기관과의 API 연동을 통한 실시간 확인
>주기적인 데이터 동기화로 최신 정보 유지
>3. 신분증 인증
>요양보호사 신분증 사진 업로드 기능 구현
>OCR(광학 문자 인식) 기술을 활용한 신분증 정보 자동 추출 및 검증
>이미지 위변조 탐지 알고리즘 적용으로 부정 사용 방지
>4. 화상 면접
>필요 시 관리자와의 화상 면접을 통한 추가 인증 절차 마련
>AI 안면 인식 기술을 활용한 신분증 사진과의 일치 여부 확인
>5. 정기적 갱신
>연 1회 자격 갱신 확인을 통한 지속적인 신뢰성 확보
>갱신 기간 도래 시 자동 알림 시스템 구축

### 오늘의 논제

1. 게임 보상 방안
⇒ 똑똑지수 + 랭킹제도 + 승패 + 실시간
----

# 1월 15일

### 어제의 논제 해결
---

### 게임 보상 방안

 게임 보상 시스템을 개선하여 사용자의 참여도를 높이고 지속적인 동기부여를 제공하기 위해 다음과 같은 방안을 도입:

- 똑똑지수 시스템
게임 참여와 성과에 따라 '똑똑지수'를 부여
퀴즈 정답률, 게임 완료 횟수, 학습 시간 등을 고려하여 지수 산정
지수에 따른 레벨 시스템 도입 (예: 초보자, 중급자, 전문가 등)
특정 지수 달성 시 특별 배지나 아이템 제공

- 랭킹 제도
주간, 월간, 전체 기간별 랭킹 시스템 구축
카테고리별 랭킹 (예: 기억력, 논리력 등) 제공으로 다양한 성취감 부여
상위 랭커에게 특별 보상 제공 (예: 프리미엄 콘텐츠 접근권, 실물 상품 등)
친구 그룹 내 랭킹 기능으로 건전한 경쟁 유도

- 실시간 보상
게임 중 즉각적인 피드백과 보상 제공
콤보 시스템: 연속 정답 시 추가 포인트 부여
일일 미션 완료 시 즉시 보상 지급
실시간 레벨업 애니메이션과 축하 메시지로 성취감 강화

---
## 요구사항 명세서 작성

# 게임 시스템 요약

## 게임 설명
- 시작 전 팝업으로 게임 설명 제공
- "게임 시작" 버튼으로 진행
- 토글로 추가 설명 페이지 접근 가능
- 각 게임별 필수 이해사항 및 진행과정 설명

## 난이도 조절
- 기본 제한 시간: 100초
- 시간 내 업무 완료 시 난이도 상승
- 최대 3단계까지 난이도 조절
- 예: 카드 수 증가, 제한 시간 감소

## 게임 종류

### 기억력 게임
1. 카드 뒤집기
   - 같은 모양 카드 쌍 기억
   - 단계 상승 시 카드 쌍 증가

### 사고력 게임
1. 데카르트 가위바위보
   - 비유적 표현으로 모양 제시
   - 10문제, 단계별 시간 감소

### 집중력 게임
1. 색깔 단어 찾기
   - 색깔: 빨, 노, 초, 파
   - 1단계: 한 유형
   - 2단계: 두 유형
   - 3단계: 두 유형 + 새 색깔

### 순발력 게임
1. 없는 숫자 찾기
   - 10초 내 누락 숫자 발견
   - 1단계: 1~10
   - 2단계: 1~20
   - 3단계: 1~30

### 논리력 게임
1. 숫자/사칙연산 추론
   - 1단계: 숫자 추론
   - 2단계: 부호(+,-) 추론
   - 3단계: 사칙연산 추론

## 결과 통계 및 경험치
- 마이페이지에서 통계 확인
- 분야별 능력: 오각형 그래프
- 전체 능력: 월별 추이 그래프
- '똑똑지수' 도입

## 랭킹제도
- '똑똑지수' 기반 랭킹 선정
- 개인 및 협동게임 결과 반영

## 협동 게임
- 실시간 게임 화면 공유
- 두 유저 동일 점수 획득

----

# 1월 16일
---

### 요구사항 명세서 취합
: 작성한 부분을 취합하여 실현 가능한 순서대로 우선 순위를 설정, 게임 부분을 추가하여 명세서 수정.

| 분야 | 게임명 | 설명 | 난이도 |
|------|--------|------|--------|
| 기억력 | 카드 뒤집기 | 같은 모양의 카드 쌍 기억하고 뒤집기 | 단계별 카드 쌍 증가 |
| 기억력 | 순서 기억하기 | 그리드에서 순서대로 나타나는 숫자 기억 | 1단계: 3x3, 2단계: 4x4, 3단계: 5x5 |
| 사고력 | 데카르트 가위바위보 | 비유적 표현에 맞는 가위바위보 선택 | 10문제, 단계별 시간 감소 |
| 사고력 | 똑똑이 방향 게임 | 화살표를 따라 도착지 예측 | 단계별 화살표 수 증가 |
| 집중력 | 색깔 단어 찾기 | 글자와 색깔이 다른 단어에서 지시에 따라 응답 | 1단계: 한 유형, 2단계: 두 유형, 3단계: 두 유형 + 새 색깔 |
| 집중력 | 숫자 추적 | 1~100 범위의 숫자를 순서대로 선택 | 1단계: 5개씩, 2단계: 7개씩, 3단계: 9개씩 (각 3번) |
| 순발력 | 없는 숫자 찾기 | 연속된 숫자 중 빠진 숫자 찾기 | 1단계: 1~10, 2단계: 1~20, 3단계: 1~30 |
| 순발력 | 두더지 게임 | 나타나는 두더지 잡기 | 1단계: 1마리씩, 2단계: 2마리씩, 3단계: 3마리씩 |
| 논리력 | 숫자/사칙연산 추론 | 주어진 조건에 맞는 숫자나 연산 선택 | 1단계: 숫자, 2단계: 부호, 3단계: 사칙연산 |
| 논리력 | 대소비교 | 두 수 또는 식의 크기 비교 | 1단계: 숫자, 2단계: 숫자와 식, 3단계: 식과 식 |

### 피그마 작업
: 메인 페이지, 화상통화 페이지, 게임 목록 페이지 등 전체적인 페이지 구상과 목표 설정
-----
# 1월 17일

### 피그마 의견 취합 후 마무리

### ERD 초안 설계

아래는 제공된 ERD 리스트를 마크다운 표로 정리한 것입니다:

## 유저 관련 테이블

### 유저 테이블 (user)

| 컬럼명 | 데이터 타입 | 설명 |
|--------|-------------|------|
| uid | BIGINT | 기본키, 자동 증가 |
| id | VARCHAR(255) | 유니크, 아이디 또는 카카오 이메일 |
| password | VARCHAR(255) | 비밀번호 |
| name | VARCHAR(255) | 이름 |
| birth | YEAR | 출생연도 |
| phone | VARCHAR(15) | 전화번호 |
| login_type | ENUM('general', 'social') | 로그인 유형 |
| created_at | TIMESTAMP | 생성 시각 |
| updated_at | TIMESTAMP | 수정 시각 |

### 소셜 로그인 테이블 (social_login)

| 컬럼명 | 데이터 타입 | 설명 |
|--------|-------------|------|
| id | BIGINT | 기본키, 자동 증가 |
| user_id | BIGINT | 외래키 (user.uid 참조) |
| provider | ENUM('kakao', 'google', 'facebook') | 소셜 로그인 제공자 |
| oauth_id | VARCHAR(255) | 소셜 제공자의 사용자 고유 ID |
| access_token | TEXT | Access Token |
| refresh_token | TEXT | Refresh Token |
| token_expiry | DATETIME | Access Token 만료 시각 |
| created_at | TIMESTAMP | 생성 시각 |
| updated_at | TIMESTAMP | 수정 시각 |

### 보안 테이블

| 컬럼명 | 데이터 타입 | 설명 |
|--------|-------------|------|
| uid | BIGINT | 기본키, 외래키 (user.uid 참조) |
| random_salt | VARCHAR(255) | 랜덤 솔트 (물리적으로 다른 곳에 저장) |

### 친구 테이블

| 컬럼명 | 데이터 타입 | 설명 |
|--------|-------------|------|
| id | BIGINT | 기본키 |
| uid | BIGINT | 외래키 (user.uid 참조) |
| fid | BIGINT | 외래키 (user.uid 참조, 친구 ID) |
| status | ENUM | 친구 상태 |

## 게임 관련 테이블

### 게임 카테고리별 테이블

| 컬럼명 | 데이터 타입 | 설명 |
|--------|-------------|------|
| uid | BIGINT | 기본키, 외래키 (user.uid 참조) |
| average | DOUBLE | 평균 점수 |
| category | ENUM | 게임 카테고리 |

### 게임 기록 일별 테이블

| 컬럼명 | 데이터 타입 | 설명 |
|--------|-------------|------|
| id | BIGINT | 기본키 |
| uid | BIGINT | 외래키 (user.uid 참조) |
| game_category | ENUM | 게임 카테고리 |
| score | INT | 점수 |
| played_at | DATETIME | 플레이 시간 |

### 게임 결과 테이블

| 컬럼명 | 데이터 타입 | 설명 |
|--------|-------------|------|
| id | BIGINT | 기본키 |
| uid | BIGINT | 외래키 (user.uid 참조) |
| date | VARCHAR(7) | 년월 (%Y-%M) |
| score | DOUBLE | 월별 평균 점수 |

## 기타 테이블

### 말동무 테이블

| 컬럼명 | 데이터 타입 | 설명 |
|--------|-------------|------|
| uid | BIGINT | 기본키, 외래키 (user.uid 참조) |
| last_conversation_summary | TEXT | 마지막 대화 요약 |

### 사용자 치매진단 테이블

| 컬럼명 | 데이터 타입 | 설명 |
|--------|-------------|------|
| uid | BIGINT | 기본키, 외래키 (user.uid 참조) |
| user_answer_smcq | JSON | 사용자 SMCQ 답변 |
| user_prev_smcq | JSON | 사용자 이전 SMCQ 답변 |
| protector_answer_sdq | JSON | 보호자 SDQ 답변 |
| user_date | DATE | 사용자 진단 날짜 |
| protector_date | DATE | 보호자 진단 날짜 |

-----

# 1월 20일